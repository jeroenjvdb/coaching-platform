$(function(){function t(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="_token"]').attr("content")}}),$(".page").each(function(t){$(this).on("click",e)}),$(".pages div").hide().first().show(),a()}function e(t){pageName=$(t.target).data("page"),$(".pages div").hide(),$(".pages div#"+pageName).show()}function a(){for(var t=$(".stopwatch"),e=[],a=0,n=t.length;n>a;a++){var i={stopwatch_id:stopwatch_id,user_id:user_id,url:stopwatch_store,startClock:clock,lastTime:lastTime,is_paused:is_paused,is_base3:$(t[a]).data("base3")};e[a]=new Stopwatch(t[a],i)}}t()});var Stopwatch=function(t,e){function a(){return document.createElement("span")}function n(t,e){var a=document.createElement("a");return a.href="#"+t,a.setAttribute("class",t),a.innerHTML=t,a.addEventListener("click",function(t){e(),t.preventDefault()}),a}function i(){_||(v=Date.now(),_=setInterval(o,e.delay),e.is_paused&&(e.is_paused=!1,h()))}function s(){_&&(w=m,clearInterval(_),_=null,e.is_paused=!0,h())}function r(){m=0,e.is_base3||(e.startClock&&(m=parseInt(e.startClock),e.lastTime&&!e.is_paused&&(m+=(new Date).getTime()-e.lastTime)),e.is_paused||i()),c()}function o(){m+=u(),d(),c()}function c(){var t=Math.round(m);e.is_base3?t>1e3?(strokes=180/(t/1e3),k.innerHTML=Math.round(strokes)):k.innerHTML=180:k.innerHTML=p(t)}function u(){var t=Date.now(),e=t-v;return v=t,e}function p(t){var e=t%1e3,a=Math.round(e/10);t=(t-e)/1e3;var n=t%60;t=(t-n)/60;var i=t%60,s=(t-i)/60;return s+":"+i+":"+n+"."+a}function d(){this.clock=m}function l(){h()}function h(){e.is_base3||(e.clock=m,e.dt=Date.now(),$.post(b,e,function(t){f(t.time)},"json"))}function f(t){var e=$("ul#splits"),a=$("ul#splits li");a.first().data("time")!=t&&e.prepend('<li data-time="'+t+'">'+p(t)+"</li>")}var v,m,_,w,k=a(),g=n("start",i),T=n("stop",s),C=n("reset",r),M=n("split",l),b=e.url||"/s3/stopwatch/1/time";this.clock=0,e=e||{},e.delay=e.delay||1,t.appendChild(k),t.appendChild(g),t.appendChild(T),t.appendChild(C),t.appendChild(M),r(),this.start=i,this.stop=s,this.reset=r,this.split=l};